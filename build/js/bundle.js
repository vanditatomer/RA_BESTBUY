!function t(e,n,a){function r(i,s){if(!n[i]){if(!e[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(o)return o(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[i]={exports:{}};e[i][0].call(c.exports,function(t){var n=e[i][1][t];return r(n||t)},c,c.exports,t,e,n,a)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<a.length;i++)r(a[i]);return r}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){return new Promise(function(e,n){var a=new XMLHttpRequest;a.open(t.method||"GET",t.url+"?apiKey="+t.api+"&format=json"),a.onload=function(){a.status>=200&&a.status<300?e(JSON.parse(a.response)):n(a.statusText)},a.onerror=function(){return n(a.statusText)},a.send(t.body)})}},{}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.carousel=function(t){for(var e=0;e<t.products.length;e++){var n=t.products[e].largeImage,a=t.products[e].manufacturer,r=t.products[e].includedItemList[0].includedItem,o=t.products[e].regularPrice,i=t.products[e].sku,s=document.createElement("li");document.getElementById("productList").appendChild(s),s.className+="carouselLi",s.style.backgroundImage="url('"+n+"')",s.style.backgroundRepeat="no-repeat";var u=document.createElement("h2");s.appendChild(u),u.innerHTML=""+a;var l=document.createElement("h4");s.appendChild(l),l.innerHTML=""+r;var c=document.createElement("h3");s.appendChild(c),c.innerHTML="$"+o;var d=document.createElement("button");s.appendChild(d),d.textContent="Add to cart",d.className+="addButton",d.setAttribute("data-sku",""+i),d.setAttribute("data-price",""+o)}}},{}],3:[function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),o=function(){function t(){a(this,t),this.sku="",this.price="",this.cart={price:0,quantity:0}}return r(t,[{key:"addToCart",value:function(){var t=sessionStorage.getItem(this.sku),e=null;null==t?(this.cart.price=this.price,this.cart.quantity=1):(e=JSON.parse(t),this.cart.price=e.price,this.cart.quantity=e.quantity+1),t=JSON.stringify(this.cart),sessionStorage.setItem(this.sku,t),t=sessionStorage.getItem(this.sku),e=JSON.parse(t),console.log(sessionStorage),this.getTotalCartItems(),this.getTotalCartPrice(),this.buildCartHtml(),console.log("sku: "+this.sku+", price: "+e.price+", quantity: "+e.quantity+" Total Items: "+this.getTotalCartItems()+" Total Price: "+this.getTotalCartPrice());var n=null,a="",r="",o=0;if($(".modalItem").remove(),(o=sessionStorage.length)>0)for(var i=0;i<o;i++)this.sku=sessionStorage.key(i),t=sessionStorage.getItem(this.sku),n=JSON.parse(t),r=(a="line"+(i+1).toString())+"-hr",i>0&&$(".modalBody").append('<hr id="'+r+'" class="modalItem">'),$(".modalBody").append('<div id="'+a+'" class="modalItem flex"><div>SKU : '+this.sku+'</div><div>QUANTITY : <input type="text" class="cartQuantity" maxlength="2" value="'+this.cart.quantity+'"></div><div>TOTAL : $<span>'+n.total+'</span></div><div><button type="button" class="update-button" data-sku="'+this.sku+'">UPDATE</button><button type="button" class="remove-button" data-sku="'+this.sku+'">REMOVE</button></div></div>');else this.setEmptyCart()}},{key:"updateItemAmount",value:function(){var t=$(this.x.target).parent().parent().attr("id"),e=$(this.x.target).data("sku"),n=$(this.x.target).parent().parent().find("input").val();if(0!=n){var a=sessionStorage.getItem(e);if(null!=a){var r=JSON.parse(a);r.quantity=n,r.total=r.price*n,$("#"+t).find("span").text(r.total),a=JSON.stringify(r),sessionStorage.setItem(e,a)}this.setItemCount(),this.setCartTotal(),alert("Quantity updated")}else this.removeCartItem()}},{key:"removeCartItem",value:function(){var t=$(this.x.target).parent().parent().attr("id"),e=$(this.x.target).data("sku");if(1==response){sessionStorage.removeItem(e);var n=null;(n=$(this.x.target).parent().parent().prev().attr("id"))||(n=$(this.x.target).parent().parent().next().attr("id")),$("#"+t).remove(),n&&$("#"+n).remove(),0==sessionStorage.length&&this.setEmptyCart(),this.setItemCount(),this.setCartTotal(),alert("Item removed from cart")}}},{key:"setItemCount",value:function(){var t=document.getElementById("itemCount"),e=sessionStorage.length;e>0?("block"!=t.style.display&&(t.style.display="block"),t.textContent=e.toString()):t.style.display="none"}},{key:"getTotalCartItems",value:function(){return sessionStorage.length}},{key:"getTotalCartPrice",value:function(){var t=0,e=0;for(var n in sessionStorage){var a=JSON.parse(sessionStorage[n]);t+=a.quantity,e+=a.price*a.quantity,document.getElementById("itemCount").innerHTML=t,document.getElementById("itemPrice").innerHTML=e}return e}},{key:"buildCartHtml",value:function(){var t=document.getElementById("itemCount");"block"!=t.style.display&&(t.style.display="block"),t.innerHTML=this.getTotalCartItems();var e=document.getElementById("myModal"),n=document.getElementById("cart"),a=document.getElementsByClassName("close")[0];n.onclick=function(){e.style.display="block"},a.onclick=function(){e.style.display="none"},window.onclick=function(t){t.target==e&&(e.style.display="none")}}},{key:"setCartTotal",value:function(){var t="",e=null,n=0,a=0;$("#cart-total").remove(),n=sessionStorage.length;for(var r=0;r<n;r++)t=sessionStorage.key(r),e=sessionStorage.getItem(t),a+=JSON.parse(e).total;$(".modalHeader").append('<div id="cart-total" class="modalItem"><p>YOUR ITEMS : <span>'+n+"</span> | CART TOTAL : <span>$"+a.toFixed(2)+"</span></p></div>")}},{key:"setEmptyCart",value:function(){$(".modalBody").append('<p class="modalItem">YOUR CART IS EMPTY.</p>')}},{key:"quantityValidation",value:function(){var t=this.x.keyCode,e=(this.x.ctrlCode,this.x.metaKey),n=this.x.shiftKey;-1!==$.inArray(t,[46,8,9,27,13,110])||65==t&&(!0===ctrlKey||!0===e)||67==t&&(!0===ctrlKey||!0===e)||88==t&&(!0===ctrlKey||!0===e)||t>=35&&t<=39||(n||t<48||t>57)&&(t<96||t>105)&&this.x.preventDefault()}}]),t}();n.default=o},{}],4:[function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),i=a(t("./bestbuy")),s=a(t("./cart")),u=t("./carousel"),l=function(){function t(){r(this,t),this.initBBCall(),this.buttonListen()}return o(t,[{key:"buttonListen",value:function(){$("#productContainer").on("click",".addButton",function(t){var e=new s.default;e.sku=$(t.target).data("sku"),e.price=$(t.target).data("price"),e.addToCart()})}},{key:"initBBCall",value:function(){(0,i.default)({url:"https://api.bestbuy.com/v1/products((categoryPath.id=abcat0502000))",api:"8ccddf4rtjz5k5btqam84qak"}).then(function(t){(0,u.carousel)(t)}).catch(function(t){console.log(t)})}}]),t}();n.default=l;new l},{"./bestbuy":1,"./carousel":2,"./cart":3}]},{},[4]);